drop table if exists invoice_templates;
create table invoice_templates (
  `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
  `acct_id` varchar(50) NOT NULL DEFAULT '',
  `cus_id` int(10) unsigned NOT NULL,
  `invinvoiceno` varchar(50) NOT NULL DEFAULT '',
  `invourref` varchar(250) NOT NULL DEFAULT '' COMMENT 'our ref, used to hold quotation ref',
  `invcusref` varchar(250) NOT NULL DEFAULT '',
  `invtype` char(4) NOT NULL DEFAULT 'S' COMMENT 'S - invoice C - credit Note P - purchase invoice R - Purchase Refund',
  `invcusname` varchar(250) NOT NULL DEFAULT '',
  `invcusaddr` varchar(1000) NOT NULL DEFAULT '',
  `invcuspostcode` varchar(50) NOT NULL DEFAULT '',
  `invcusregion` varchar(20) NOT NULL DEFAULT 'UK',
  `invcuscontact` varchar(250) NOT NULL DEFAULT '',
  `invcusemail` varchar(250) NOT NULL DEFAULT '',
  `invcusterms` varchar(50) NOT NULL DEFAULT '',
  `invremarks` text COMMENT 'Remarks displayed on invoice',
  `invcoa` varchar(20) NOT NULL DEFAULT '4000' COMMENT 'nominalcode  assigned to invoice',
  `invcreated` datetime DEFAULT NULL COMMENT 'Date Invoice first saved',
  `invprintdate` date default null COMMENT 'Date invoice printed/emailed',
  `invduedate` date DEFAULT NULL COMMENT 'Date payment for the invoice is due',
  `invtotal` decimal(20,2) NOT NULL DEFAULT '0.00' COMMENT 'The invoice total (excl VAT if applicable)',
  `invcistotal` decimal(20,2) DEFAULT NULL,
  `invvat` decimal(20,2) NOT NULL DEFAULT '0.00' COMMENT 'VAT total',
  `invpaid` decimal(20,2) NOT NULL DEFAULT '0.00' COMMENT 'Total paid so far',
  `invpaidvat` decimal(20,2) NOT NULL DEFAULT '0.00' COMMENT 'Total VAT paid so far',
  `invpaiddate` date DEFAULT NULL COMMENT 'Date that last instalment was paid',
  `invstatus` varchar(50) NOT NULL DEFAULT 'Draft' COMMENT 'Current Invoice status - Draft, Unpaid, Overdue, Part-Paid, Paid',
  `invstatuscode` decimal(2,0) NOT NULL DEFAULT '0' COMMENT 'Status code, Draft - 1, Printed - 3 etc',
  `invstatusdate` datetime DEFAULT NULL COMMENT 'Status Date',
  `invfpflag` char(1) NOT NULL DEFAULT '' COMMENT 'Flag to denote full payment checkbox checked',
  `invitemcount` int(11) DEFAULT NULL COMMENT 'No of line items',
  `invitems` text COMMENT 'HTML snippet of all line items before invoice saved',
  `invdesc` varchar(250) NOT NULL DEFAULT '' COMMENT 'First line of description',
  `invyearend` varchar(20) NOT NULL DEFAULT '' COMMENT 'Invoice Yearend reporting period',
  `invnotes` text,
  `invlayout` int(11) NOT NULL DEFAULT '0',
  invrepeatfreq varchar(20) not null default '2' comment ' the frequency with which the invoice is to be repeated week, month, year etc',
  invnextinv decimal(6,0) not null default '1' comment ' the number of the next invoice',
  invlastinv decimal(6,0) not null default '999999' comment 'the last number, ie max of invoices to be produced',
  invemailsubj varchar(100) not null default '' comment 'email subject',
  invemailmsg varchar(5000) not null default '' comment 'message to place on email',
  invemailcopy varchar(5) not null default 'Y' comment 'copy invoice to self',
  old_id int unsigned,
  PRIMARY KEY (`id`),
  index invtemp1 (acct_id)
);

